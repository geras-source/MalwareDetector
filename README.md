# MalwareDetector - Клиент серверное приложение позволяющее запускать сканирование файлов и получать отчет после завершения сканирования
## Задание
#### Требуется реализовать два приложения, используя .NET Core / .NET:
- сервисное приложение, реализующее простой REST API, который предоставляет ресурс для создания задач на сканирование файлов в директории и получения статуса задачи по идентификатору
- утилиту, работающую из командной строки, отправляющую сервисному приложению команды на создание и просмотр состояния задач.

 #### В рамках задачи определено 3 типа "подозрительного" содержимого в файле:
- файл с расширением .js, содержащий строку <script>evil_script()</script>
- любой файл, содержащий строку: rm -rf %userprofile%\Documents
- любой файл, содержащий строку: Rundll32 sus.dll SusEntry
#### После завершения команды создание задачи на сканирование должен быть выведен уникальный идентификатор задачи.
#### После завершения команды просмотра статуса задачи может быть выведено два результата: статус "задача еще выполняется" или отчет о сканировании, в котором присутствует следующая информация:
- путь к директории, сканирование которой производилось
- общее количество обработанных файлов
- количество обнаружений на каждый тип "подозрительного" содержимого
- количество ошибок анализа файлов (например, не хватает прав на чтение файла)
- время выполнения утилиты.

## Решение
**Core** - Библиотека классов, содержит бизнес логику

**Data** - Библиотека классов, поставщик данных для бизнес логики

**Server** - Web API, предоставляет ресурс создания задачи сканирования и получение отчета

**Client** - Консольное приложение, работает из командной строки, отправляет запросы на сканирование и получание отчета

**Tests** - 2 простых юнит теста: 1 тестирует доступность метода POST, 2 тестирует сервис сканирования

#### Запуск
Пользователю предоствлены 2 команды, который взаимодействует через командную строку:
- scan "Путь директории" запускает сканирование файлов в указанной директории
- status "Идентификатор" получается отчет о сканировании с помощью идентификатора
**При попытке ввести несуществующий путь/более двух аргументов/некорректные символы в пути/неправильную команду - в консоль выведется соотвествующая ошибка**

## Логика работы
Запускается локальный сервер, который слушает порт 44337. Клиент с помощью командной строки посылает POST запрос на сервер, передевая файлы сканирования. Сервер принимает файлы, считывает Stream и получает текст из файлов с помощью файлового сервиса, полученный текст передается в процесс сканирования и возвращает клиенту идентификатор сканирования. Пока произовдится сканирование клиент может отправить GET запрос с идентификатором сканирования, сервер получает этот идентификатор, если сканирование завершилось, то сформирует отчет и выведет в консоль клиента его, а если процесс сканирования не завершен, то отправляет, что сканирование идет.
